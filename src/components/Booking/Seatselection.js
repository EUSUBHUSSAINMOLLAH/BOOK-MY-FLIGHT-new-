import React from 'react';
import Drawseats from './Drawseats';


class Seatselection extends React.Component{
    state = {
            seat: ['S000',  'S001', 'S002',
                   'S101', 'S102', 'S103',
                   'S201', 'S202', 'S203',
                   'S301', 'S302', 'S303', 
                   'S401', 'S402', 'S403',
                   'S501', 'S502', 'S503',
                   'S601', 'S602', 'S603',
                   'S701', 'S702', 'S703',
                   'S801', 'S802', 'S803',
                   'S901', 'S902', 'S903',
                   'S1001', 'S1002', 'S1003',
                   'S1101', 'S1102', 'S1103',
                   'S1201', 'S1202', 'S1203',
                   'S1301', 'S1302', 'S1303',
                   'S1401', 'S1402', 'S1403',
                   'S1501', 'S1502', 'S1503',
                   'S1601', 'S1602', 'S1603',
                   'S1701', 'S1702', 'S1703',
                   'S1801', 'S1802', 'S1803',
                   'S1901', 'S1902', 'S1903',
                   'S2001', 'S2002', 'S2003',
                   'S2101', 'S2102', 'S2103',
                   'S2201', 'S2202', 'S2203',
                   'S2301', 'S2302', 'S2304',
                   'S2401', 'S2402', 'S2403',
                   'S2501', 'S2502', 'S2503',
                   'S2601', 'S2602', 'S2603',
                   'S2701', 'S2702', 'S2703',
                   'S2801', 'S2802', 'S2803',
                   'S2901', 'S2902', 'S2903',
                   'S3001', 'S3002', 'S3003',
                   'S3101', 'S3102', 'S3103',
                   'S3201', 'S3202', 'S3203',
                   'S3301', 'S3302', 'S3303',
                   'S3401', 'S3402', 'S3403',
                   'S3501', 'S3502', 'S3503',
                   'S3601', 'S3602', 'S3603',
                   'S3701', 'S3702', 'S3703',
                   'S3801', 'S3802', 'S3803',
                   'S3901', 'S3902', 'S3903',
                   'S4001', 'S4002', 'S4003',
                   'S4101', 'S4102', 'S4103',
                   'S4201', 'S4202', 'S4203',
                   'S4301', 'S4302', 'S4303',
                   'S4401', 'S4402', 'S4403',
                   'S4501', 'S4502', 'S4503',
                   'S4601', 'S4602', 'S4603',
                   'S4701', 'S4702', 'S4703',
                   'S4801', 'S4802', 'S4803',
                   'S4901', 'S4902', 'S4903',
                   'S5001', 'S5002', 'S5003',
                   'S5001', 'S5002', 'S5003',
                   'S5101', 'S5102', 'S5103',
                   'S5201', 'S5202', 'S5203',
                   'S5301', 'S5302', 'S5303',
                   'S5401', 'S5402', 'S5403',
                   'S5501', 'S5502', 'S5503',
                   'S5601', 'S5602', 'S5603',
                   'S5701', 'S5702', 'S5703',
                   'S5801', 'S5802', 'S5803',
                   'S5901', 'S5902', 'S5903',
                   'S6001', 'S6002', 'S6003',
                   'S6001', 'S6002', 'S6003',
                   'S6101', 'S6102', 'S6103',
                   'S6201', 'S6202', 'S6203',
                   'S6301', 'S6302', 'S6303',
                   'S6401', 'S6402', 'S6403',
                   'S6501', 'S6502', 'S6503',
                   'S6601', 'S6602', 'S6603',
                   'S6701', 'S6702', 'S6703',
                   'S6801', 'S6802', 'S6803',
                   'S6901', 'S6902', 'S6903',
                   'S7001', 'S7002', 'S7003',
                   'S7001', 'S7002', 'S7003',
                   'S7101', 'S7102', 'S7103',
                   'S7201', 'S7202', 'S7203',
                   'S7301', 'S7302', 'S7303',
                   'S7401', 'S7402', 'S7403',
                   'S7501', 'S7502', 'S7503',
                   'S7601', 'S7602', 'S7603',
                   'S7701', 'S7702', 'S7703',
                   'S7801', 'S7802', 'S7803',
                   'S7901', 'S7902', 'S7903',
                   'S8001', 'S8002', 'S8003',
                   'S8001', 'S8002', 'S8003',
                   'S8101', 'S8102', 'S8103',
                   'S8201', 'S8202', 'S8203',
                   'S8301', 'S8302', 'S8303',
                   'S8401', 'S8402', 'S8403',
                   'S8501', 'S8502', 'S8503',
                   'S8601', 'S8602', 'S8603',
                   'S8701', 'S8702', 'S8703',
                   'S8801', 'S8802', 'S8803',
                   'S8901', 'S8902', 'S8903',
                   'S9001', 'S9002', 'S9003']
                   ,
            
            seatAvailable: ['S000', 'S001', 'S002',
                'S101', 'S102', 'S103',
                'S201', 'S202', 'S203',
                'S301', 'S403',
                'S501', 'S502', 'S503',
                'S601', 'S603',
                'S701', 'S702', 'S703',
                'S801', 'S802', 'S803',
                'S901', 'S902', 'S903',
                'S1002', 'S1003',
                'S1101', 'S1102', 
                'S1201', 'S1202', 'S1203',
                'S1301', 'S1303',
                'S1401', 'S1402', 'S1403',
                'S1502', 'S1503',
                'S1701', 'S1702', 'S1703',
                'S1801', 'S1802', 'S1803',
                'S1901', 'S1902', 'S1903',
                'S2001', 'S2002', 'S2003',
                'S2101', 'S2102', 'S2103',
                'S2201', 'S2202', 'S2203',
                'S2301', 'S2302', 'S2304',
                'S2401', 'S2402', 'S2403',
                'S2501', 'S2502', 'S2503',
                'S2601', 'S2602', 'S2603',
                'S2702', 'S2703',
                'S2801', 'S2802', 'S2803',
                'S2901', 'S2902', 'S2903',
                'S3001', 'S3002', 'S3003',
                'S3101', 'S3102', 'S3103',
                'S3201', 'S3202', 'S3203',
                'S3301', 'S3302', 'S3303',
                'S3401', 'S3402', 'S3403',
                'S3501', 'S3502', 'S3503',
                'S3601', 'S3602', 'S3603',
                'S3701', 'S3702', 'S3703',
                'S3801', 'S3802', 'S3803',
                'S3901', 'S3902', 'S3903',
                'S4001', 'S4002', 'S4003',
                'S4101', 'S4102', 'S4103',
                'S4201', 'S4202', 'S4203',
                'S4301', 'S4302', 'S4303',
                'S4401', 'S4402', 'S4403',
                'S4501', 'S4502', 'S4503',
                'S4601', 'S4602', 'S4603',
                'S4701', 'S4702', 'S4703',
                'S4801', 'S4802', 'S4803',
                'S4901', 'S4902', 'S4903',
                'S5001', 'S5002', 'S5003',
                'S5001', 'S5002', 'S5003',
                'S5101', 'S5102', 'S5103',
                'S5201', 'S5202', 'S5203',
                'S5301', 'S5302', 'S5303',
                'S5401', 'S5402', 'S5403',
                'S5501', 'S5502', 'S5503',
                'S5601', 'S5602', 'S5603',
                'S5701', 'S5702', 'S5703',
                'S5801', 'S5802', 'S5803',
                'S5901', 'S5902', 'S5903',
                'S6001', 'S6002', 'S6003',
                'S6001', 'S6002', 'S6003',
                'S6101', 'S6102',
                'S6201', 'S6202', 'S6203',
                'S6301', 'S6302', 'S6303',
                'S6401', 'S6402', 'S6403',
                'S6501', 'S6502', 'S6503',
                'S6601', 'S6602', 'S6603',
                'S6701', 'S6702', 'S6703',
                'S6801', 'S6802', 'S6803',
                'S6901', 'S6902', 'S6903',
                'S7001', 'S7002', 'S7003',
                'S7001', 'S7002', 'S7003',
                'S7101', 'S7102', 'S7103',
                'S7201', 'S7202', 'S7203',
                'S7301', 'S7302', 'S7303',
                'S7401', 'S7402', 'S7403',
                'S7501', 'S7502', 'S7503',
                'S7601', 'S7603',
                'S7701', 'S7702', 'S7703',
                'S7801', 'S7802', 'S7803',
                'S7901', 'S7902', 'S7903',
                'S8001', 'S8002', 'S8003',
                'S8001', 'S8002', 'S8003',
                'S8101', 'S8102', 'S8103',
                'S8201', 'S8202', 'S8203',
                'S8301', 'S8302', 'S8303',
                'S8401', 'S8403',
                'S8501', 'S8502', 'S8503',
                'S8601', 'S8602', 'S8603',
                'S8701', 'S8702', 'S8703',
                'S8801', 'S8802', 'S8803',
                'S8901', 'S8902', 'S8903',
                'S9001', 'S9002', 'S9003'],
                seatBooked: ['S302', 'S303', 'S304', 'S401', 'S402', 'S602', 'S1001', 'S1103', 'S1302', 'S1501', 'S1601', 'S1602', 'S1603'
                , 'S6103', 'S2701', 'S8402', 'S7602'],
                preBooked: ['S302', 'S303', 'S304', 'S401', 'S402', 'S602', 'S1001', 'S1103', 'S1302', 'S1501', 'S1601', 'S1602', 'S1603'
                , 'S6103', 'S2701', 'S8402', 'S7602'],
                userBooked: []
    }


    onClickData(seat) {
        if(this.state.preBooked.indexOf(seat) === -1){
          if(this.state.seatBooked.indexOf(seat) > -1 ) {
            this.setState({
              seatAvailable: this.state.seatAvailable.concat(seat),
              seatBooked: this.state.seatBooked.filter(res => res !== seat),
              userBooked: this.state.userBooked.filter(res => res !== seat)
            }, 
            () => this.props.seatsBooked(this.state.userBooked))
          } else if(this.state.userBooked.length < this.props.count){
            this.setState({
              userBooked: this.state.userBooked.concat(seat),
              seatBooked: this.state.seatBooked.concat(seat),
              seatAvailable: this.state.seatAvailable.filter(res => res !== seat),
            },
            () => this.props.seatsBooked(this.state.userBooked))
          }
        }
      }
      
      render() {
        return (
          <div>
            <Drawseats
              seat = { this.state.seat }
              available = { this.state.seatAvailable }
              reserved = { this.state.seatBooked }
              onClickData = { this.onClickData.bind(this) }
              />
          </div>
        )
}
}

export default Seatselection;